# PowerKit plugin
set -g @plugin 'fabioluciano/tmux-powerkit'

# Basic configuration
set -g @powerkit_plugins "ssh,hostname,battery,cpu,memory,ping"
set -g @powerkit_theme "tokyo-night"
set -g @powerkit_status_position "bottom"
set -g @powerkit_status_order "plugins,sessions"

# Dark/light mode auto-switch
set -g @plugin 'erikw/tmux-dark-notify'
set -g @dark-notify-theme-path-light '$HOME/.config/tmux/theme-light.conf'
set -g @dark-notify-theme-path-dark '$HOME/.config/tmux/theme-dark.conf'

run-shell "tmux setenv -g TMUX_VERSION $(tmux -V | cut -c 6-)"

# options settings
set -s escape-time 0
set -g history-limit 30000

set -g pane-active-border-style fg=colour196

set -g aggressive-resize on
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",tmux-256color:Tc"
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'  # undercurl support
set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m'
set -g focus-events on
set -g window-active-style 'bg=terminal'
set -g mouse on
set -g set-clipboard on

# source keybind
source $HOME/.config/tmux/keybind.conf

# Ensure Homebrew bash (5.x) is used for plugins requiring modern bash
set-environment -g PATH "/opt/homebrew/bin:$PATH"

# Initialize TPM (keep at bottom)
run '~/.tmux/plugins/tpm/tpm'
